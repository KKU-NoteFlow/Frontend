@import "@toast-ui/editor/dist/toastui-editor.css";

.main-container {
  display: flex;
  height: 100%;
  width: 100%;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

.main-sidebar {
  width: 220px;
  background-color: var(--nf-surface);
  border-right: 1px solid var(--nf-border);
  padding: 20px;
}

.main-logo-box {
  display: flex;
  align-items: center;
  margin-bottom: 32px;
}

.main-logo-img {
  width: 36px;
  margin-right: 8px;
}

.main-logo-text { font-size: 20px; font-weight: bold; color: var(--nf-text); }

.main-nav {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.main-nav-btn {
  background: none;
  border: none;
  font-size: 15px;
  color: var(--nf-text);
  font-weight: 800;
  text-align: left;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 6px;
}

.main-nav-btn:hover { background-color: var(--nf-surface-2); }

.main-content { flex: 1; padding: 24px; background: var(--nf-surface); color: var(--nf-text); }

.main-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
}

.main-new-note-btn { padding: 10px 16px; font-size: 14px; font-weight: bold; border: 1px solid var(--nf-border); border-radius: 6px; background-color: var(--nf-surface-2); color: var(--nf-text); cursor: pointer; }

.main-search { flex: 1; padding: 10px 14px; border: 1px solid var(--nf-border); border-radius: 6px; font-size: 14px; background-color: var(--nf-surface); color: var(--nf-text); }

.main-note-list {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
  /* 기본: 카드 최소 높이 확보, 내용이 많을 땐 확장 */
  grid-auto-rows: minmax(180px, auto);
  align-items: stretch;
}
@media (min-width: 640px) { .main-note-list { grid-template-columns: 1fr 1fr; } }
@media (min-width: 1024px) { .main-note-list { grid-template-columns: 1fr 1fr 1fr; } }

/* Wide screens: 고정된 카드 높이로 대시보드 카드와 시각적 무게를 맞춤 */
@media (min-width: 1024px) {
  .main-note-list { grid-auto-rows: 320px; }
  .main-note-item { min-height: 0; height: 100%; }
}

.main-note-item { border-bottom: 1px solid var(--nf-border); padding-bottom: 16px; background: var(--nf-surface); }

/* main note item rounding override to make list items match card style */
.main-note-item {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid var(--nf-border);
  padding: 14px 14px 14px 18px;
  background: linear-gradient(180deg, rgba(255,255,255,0.6), transparent);
  box-shadow: 0 6px 18px rgba(10,15,10,0.03);
  /* Make each note card a consistent block regardless of content length */
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 180px;
  height: 100%;
}

.main-note-item::before {
  content: '';
  position: absolute;
  left: 0; top: 8px; bottom: 8px;
  width: 6px;
  border-top-left-radius: 10px;
  border-bottom-left-radius: 10px;
  background: var(--nf-primary);
}

.main-note-title {
  font-size: 1.05rem;
  font-weight: 700;
  text-align: left;
  margin: 0 0 6px 0;
  color: var(--nf-text);
  font-family: 'Georgia', 'Times New Roman', serif;
}

.main-note-preview {
  color: var(--nf-muted);
  font-size: 0.95rem;
  text-align: left;
  margin: 0;
  line-height: 1.6;
}

.main-note-date { text-align: right; font-size: 12px; color: var(--nf-muted); }

.note-detail {
padding: 24px;
}

.note-detail-title {
font-size: 28px;
margin-bottom: 8px;
font-weight: bold;
}

.note-detail-meta { font-size: 14px; color: var(--nf-muted); margin-bottom: 16px; }

.note-detail-content {
line-height: 1.6;
}

/* disable 된 검색 input 스타일 */
.main-search:disabled { background: var(--nf-surface-2); cursor: default; }

/* 마크다운 관련 css */
.markdown-body h1 { font-size: 2em; margin: 0.67em 0; }
.markdown-body h2 { font-size: 1.5em; margin: 0.75em 0; }
.markdown-body h3 { font-size: 1.25em; margin: 0.83em 0; }
.markdown-body p  { margin: 1em 0; line-height: 1.6; }
.markdown-body blockquote { margin: 1em 0; padding-left: 1em; border-left: 4px solid var(--nf-border); color: var(--nf-muted); }
.markdown-body ul,
.markdown-body ol {
margin: 1em 0 1em 2em;
}
.markdown-body code {
background: var(--nf-surface-2);
padding: 0.2em 0.4em;
border-radius: 3px;
font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
}
.markdown-body pre {
background: var(--nf-surface-2);
padding: 1em;
border-radius: 6px;
overflow-x: auto;
}
.markdown-body table {
border-collapse: collapse;
margin: 1em 0;
}
.markdown-body th,
.markdown-body td { border: 1px solid var(--nf-border); padding: 0.5em 1em; }

/* src/css/Main.css */

/* 대시보드 상단 그리드: 반응형 (모바일 1열, 데스크톱 2열) */
.dashboard-grid {
  display: grid;
  /* 오른쪽(시간표) 영역에 더 넓은 가로 공간을 부여 */
  grid-template-columns: 1fr 1.4fr;
  gap: 16px;
}
@media (max-width: 900px) {
  .dashboard-grid { grid-template-columns: 1fr; }
}
/* (이전 상태로 복원) 전용 1200px 이상 그리드 비율은 사용하지 않습니다. */

/* Desktop: fix left rows to equal heights so timetable matches their sum */
@media (min-width: 901px) {
  /* Desktop: explicit grid rows/columns so full-width content always
     starts after the timetable (which is in row 1). The timetable's
     height is still driven by JS, so we place elements into explicit
     grid rows to avoid overlap. */
  /* make two explicit rows: top row contains left col + timetable,
     second row contains the full-width section below */
  .dashboard-grid { grid-template-rows: auto auto; align-items: start; }

  /* Left column (column 1, row 1) */
  .dashboard-left-col { display: grid; grid-auto-rows: min-content; gap: 16px; grid-column: 1; grid-row: 1; align-items: start; }
  .dashboard-left-col > .nf-card { height: auto; min-height: 0; display: flex; flex-direction: column; align-self: start; }

  /* Timetable (column 2, row 1) */
  /* ensure timetable and left-column cards align to the top of the grid */
  .dashboard-timetable-wrap { grid-column: 2; grid-row: 1; align-self: start; }
  /* allow timetable content to size the cell; JS may set an explicit
     height on the wrapper, so don't force 100% here which can cause
     unexpected stretching/overflow behaviors */
  .dashboard-timetable { height: auto; min-height: 0; }

  /* Full-width section (과목별 모아보기) is rendered outside the
     main grid now; keep spacing so it sits clearly below the grid. */
  /* 더 아래로 내려서 위쪽 대시보드 컨텐츠와 겹치지 않도록 여유를 늘립니다. */
  .dashboard-grid__full { margin-top: 48px; }
}

/* ─────────────────────────────────────────────────────────────────
   드래그 오버 시 강조 스타일 (파일 업로드 영역)
   ───────────────────────────────────────────────────────────────── */
   .main-file-list.drag-over { background-color: var(--nf-surface-2); border: 2px dashed var(--nf-primary); border-radius: 6px; }
  
/* 파일 목록 스타일 확장 */
.main-file-list ul { list-style: none; padding: 0; margin: 0; }
.main-file-item {
  display: flex;
  align-items: center;
  padding: 12px 14px;
  border-bottom: 1px solid var(--nf-border);
  transition: background 0.15s ease, transform 0.12s ease;
  cursor: pointer;
}
.main-file-item.hover, .main-file-item:hover { background: var(--nf-surface-2); transform: translateY(-1px); }
.main-file-icon {
  width: 56px;
  height: 56px;
  background: var(--nf-surface-2);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 1rem;
  font-size: 1.4rem;
  flex-shrink: 0;
}
.main-file-meta { display: flex; flex-direction: column; }
.main-file-name { font-size: 1.05rem; color: var(--nf-text); font-weight: 600; }
.main-file-date { font-size: 0.9rem; color: var(--nf-muted); margin-top: 4px; }

@media (max-width: 720px) {
  .main-file-icon { width: 48px; height: 48px; }
  .main-file-item { padding: 10px 12px; }
}

/* 기존의 .main-file-list 기본 스타일은 그대로 유지 */

/* ----------------------------------------------------------------------------
  1. Completely hide Write/Preview tabs, toolbar, and mode switch (if you already
     had that, just leave it here; this is shown in full for clarity).
   ---------------------------------------------------------------------------- */
.toastui-editor-defaultUI .toastui-editor-tabs {
  display: none   !important;  /* remove the Write/Preview tab bar */
  height: 0       !important;
  margin: 0       !important;
  padding: 0      !important;
  border: none    !important;
  background: none!important;
}
.toastui-editor-defaultUI .toastui-editor-toolbar, 
.toastui-editor-defaultUI .toastui-editor-mode-switch {
  display: none   !important;  /* remove top toolbar and bottom Markdown/WYSIWYG toggle */
  margin: 0       !important;
  padding: 0      !important;
  border: none    !important;
  background: none!important;
}
.toastui-editor-defaultUI .toastui-editor-section {
  border: none    !important;  /* remove any leftover border under the tab bar */
}

/* ----------------------------------------------------------------------------
  2. Remove all “box” styling around the editor so it truly fills the container
   ---------------------------------------------------------------------------- */
.toastui-editor-defaultUI {
  border: none             !important;
  box-shadow: none         !important;
  background: none         !important;
  margin: 0                !important;
  padding: 0               !important;
  width: 100%              !important;
  max-width: none          !important;
}

.toastui-editor-defaultUI 
  .toastui-editor-main-container,
.toastui-editor-defaultUI 
  .toastui-editor-md-container {
  border: none             !important;
  margin: 0                !important;
  padding: 0               !important;
}

/* ----------------------------------------------------------------------------
  3. Force the Markdown pane (CodeMirror) to use full width and left alignment
   ---------------------------------------------------------------------------- */
/* Make sure the <div class="toastui-editor-md-editor"> wrapper is not centering */
.toastui-editor-md-editor,
.toastui-editor-md-wrapper {
  display: block            !important;
  width: 100%               !important;
  margin: 0                 !important;
  padding: 0                !important;
}

/* Force CodeMirror itself to fill 100% width and text-align left */
.toastui-editor-md-editor .CodeMirror {
  display: block            !important;
  width: 100%               !important;
  margin: 0                 !important;
  padding: 0                !important;
  text-align: start          !important; /* “Typed text” lines start at left */
}

/* CodeMirror stores each text line in a <div class="CodeMirror-line">… */
.toastui-editor-md-editor .CodeMirror-line {
  text-align: start          !important; /* Each line is left-aligned */
}

/* ----------------------------------------------------------------------------
  4. If someone switches into WYSIWYG mode, also force left alignment there
   ---------------------------------------------------------------------------- */
.toastui-editor-wysiwyg-modes-view .ProseMirror {
  width: 100%               !important;
  margin: 0                 !important;
  padding: 0                !important;
  text-align: start          !important;
}

/* ----------------------------------------------------------------------------
  5. The “rendered Markdown” area (previewStyle="none" makes this the only view)
     also must be left-aligned
   ---------------------------------------------------------------------------- */
.toastui-editor-contents {
  padding: 2rem              !important; /* Optional “comfort” padding */
  font-family: 'Noto Sans KR', sans-serif;
  font-size: 1.05rem;
  line-height: 1.8;
  background: none           !important;
  color: inherit;
  text-align: left           !important; /* force the preview text to start at left */
}
